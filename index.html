<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VU+ Remote Control</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!--container-->
    <div class="container">
        <div class="d-flex flex-row justify-content-between px-3 py-4 align-items-center">
            <!-- <i class="fas fa-chevron-left"></i> -->
            <span>VU+</span>
            <!-- <i class="fas fa-ellipsis-h"></i> -->
        </div>

        <div class="d-flex flex-row justify-content-center">
            <div class="menu-grid">
                <div class="d-flex flex-column align-items-center rcb" data-rc-cmd="power">
                    <i class="fas fa-power-off active"></i>
                    <span class="label">Power</span>
                </div>
                <div class="d-flex flex-column align-items-center rcb" data-rc-cmd="input">
                    <i class="fas fa-sign-in-alt"></i>
                    <span class="label">Input</span>
                </div>
                <div class="d-flex flex-column align-items-center rcb" data-rc-cmd="control">
                    <i class="fas fa-cog"></i>
                    <span class="label">Control</span>
                </div>
                <div class="d-flex flex-column align-items-center rcb" data-rc-cmd="menu">
                    <i class="fas fa-bars"></i>
                    <span class="label">Menu</span>
                </div>
                <div class="d-flex flex-column align-items-center rcb" data-rc-cmd="record">
                    <i class="fas fa-circle"></i>
                    <span class="label">Numeric</span>
                </div>
                <div class="d-flex flex-column align-items-center rcb" data-rc-cmd="exit">
                    <i class="fas fa-arrow-left"></i>
                    <span class="label">Exit</span>
                </div>
            </div>
        </div>

        <div class="d-flex flex-row mt-4 justify-content-between px-2">
            <div class="d-flex flex-column rounded-bg py-3 px-4 justify-content-center align-items-center rc-col-bt">
                <i class="fas fa-plus py-3 control-icon rcb" data-rc-cmd="volumeUp"></i>
                <span class="label py-3">Volume</span>
                <i class="fas fa-minus py-3 control-icon rcb" data-rc-cmd="volumeDown"></i>
            </div>
            <div class="d-flex flex-column align-items-center">
                <div class="d-flex flex-row grey-bg justify-content-center align-items-center">
                    <i class="fas fa-home p-3 home-icon rcb" data-rc-cmd="home"></i>
                </div>
                <span class="label">Home</span>
            </div>
            <div class="d-flex flex-column rounded-bg py-3 px-4 justify-content-center align-items-center rc-col-bt">
                <i class="fas fa-chevron-up py-3 control-icon rcb" data-rc-cmd="bouquetUp"></i>
                <span class="label py-3">Channel</span>
                <i class="fas fa-chevron-down py-3 control-icon rcb" data-rc-cmd="bouquetDown"></i>
            </div>
        </div>

        <div class="mt-5 pt-4 position-relative d-flex flex-row justify-content-center align-items-center">
            <div class="circle ok-outer position-absolute"></div>
            <div class="circle ok-inner position-absolute rcb" data-rc-cmd="enter">
                <span>OK</span>
            </div>
            <i class="fas fa-caret-right position-absolute control-icon right rcb" data-rc-cmd="right"></i>
            <i class="fas fa-caret-right position-absolute control-icon bottom rcb" data-rc-cmd="down"></i>
            <i class="fas fa-caret-right position-absolute control-icon left rcb" data-rc-cmd="left"></i>
            <i class="fas fa-caret-right position-absolute control-icon top rcb" data-rc-cmd="up"></i>
        </div>

        <div class="d-flex flex-row justify-content-between mt-5 pt-4 px-3">
            <div class="d-flex flex-row grey-bg">
                <i class="fas fa-ellipsis-h p-3 control-icon rcb" data-rc-cmd="more"></i>
            </div>
            <div class="d-flex flex-row grey-bg">
                <i class="fas fa-volume-mute p-3 control-icon rcb" data-rc-cmd="mute"></i>
            </div>
        </div>
    </div>

    <script>

        commands = {
            "bouquetUp": 402,
            "bouquetDown": 403,
            "previous": 412,
            "next": 407,
            "up": 103,
            "down": 108,
            "left": 105,
            "right": 106,
            "enter": 352,
            "exit": 174,
            "volumeUp": 115,
            "volumeDown": 114,
            "mute": 113,
            "play": 164,
            "pause": 119,
            "stop": 128,
            "record": 167,
            "rewind": 168,
            "fastForward": 159,
            "menu": 139,
            "info": 358,
            "audio": 392,
            "video": 393,
            "tv": 377,
            "pvr": 366,
            "radio": 385,
            "text": 388,
            "help": 138,
            "1": 2,
            "2": 3,
            "3": 4,
            "4": 5,
            "5": 6,
            "6": 7,
            "7": 8,
            "8": 9,
            "9": 10,
            "0": 11,
            "red": 398,
            "green": 399,
            "yellow": 400,
            "blue": 401,
            "power": 116
        }

        //http://192.168.111.111/api/remotecontrol?command=358&_=1642374420569

        var buttons = document.querySelectorAll('.rcb');

        buttons.forEach((button) => {
            button.addEventListener('click', (event) => {
                var targetElement = event.srcElement;
                while (targetElement && !targetElement.getAttribute("data-rc-cmd"))
                    targetElement = targetElement.parentElement;

                if (targetElement) {
                    command = targetElement.getAttribute("data-rc-cmd");
                    commandId = commands[command];
                    sendRcCommand(commandId);
                }
            });
        });


        function sendRcCommand(commandId) {
            var xhttp = new XMLHttpRequest();
            xhttp.open("GET", "/api/remotecontrol?command=" + commandId);
            xhttp.send();
        }

    </script>

</body>

</html>